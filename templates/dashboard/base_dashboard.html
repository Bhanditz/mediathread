{% extends "base.html" %}
{%load user_annotations comments %}

{% block title %}Instructor Dashboard{% endblock %}

{% block js %}
    <script type="text/javascript" src="/site_media/js/reports.js"></script>

    <script type="text/javascript">
        function resizeDashboard() {
            var visible = getVisibleContentHeight();
            jQuery('#dashboard-module-body .scroll').css('height', (visible - 87) + "px");
        }
    
        jQuery(document).ready(function() {
            jQuery(window).resize(function () {  
                resizeDashboard();
            });
        });
    </script>
{% endblock %}

{% block content %}
    {{ block.super }}

    {%if request.user.is_staff and courses %}
       <div id="staff-switchcourse">
         <form>
           <label>Switch course (Staff Only):</label>
           <select onchange="document.location=this.value;">
             {% for c in courses %}
             <option value="?set_course={{c.group.name|urlencode}}"
                     {% ifequal c request.course %}selected="selected"{%endifequal%}
               >{{c.title}}</option>
               {% endfor %}
             </select>
           </form>
           </div>
    {% endif %}

    <div>
        {% block dashboard_module_header %}{% endblock %}
         
        <div id="dashboard-module-body" class="scroll">
            {% block dashboard_module %}{% endblock %}
        </div>
    </div>
    
 {% endblock %}   
